## 1️⃣ 通用开发规范

### 文件命名

| 类型      | 规范                |
| ------- | ----------------- |
| Dart 文件 | snake_case        |
| Widget  | XxxPage / XxxDemo |
| Service | XxxService        |

---

## 2️⃣ 页面开发规范

❌ 不允许：

```dart
http.get(...)
Bugly.report(...)
```

✅ 正确方式：

```dart
ApiService.get()
CrashService.testCrash()
```

---

## 3️⃣ Service 编写规范

```dart
class XxxService {
  static Future<void> action() async {
    // 只写逻辑
  }
}
```

* 不持有 BuildContext
* 不直接操作 UI
* 可 Mock / 可测试

---

## 4️⃣ 新增功能模块流程（标准）

### 示例：新增「文件上传模块」

#### Step 1：创建 Service

```
packages/services/upload/upload_service.dart
```

#### Step 2：创建 Feature/Demo

```
packages/features/upload/upload_demo_page.dart
```

#### Step 3：HomePage 注册入口

```dart
HomeButton(
  title: 'Upload Demo',
  onTap: () => router.push(UploadDemoRoute()),
)
```

---

## 5️⃣ Demo → 生产迁移规范

| 阶段   | 要做的事          |
| ---- | ------------- |
| Demo | Mock 数据       |
| 联调   | 替换 ApiService |
| 生产   | 打开权限 / 真 SDK  |

**UI 不改，逻辑平移**

---

## 6️⃣ 禁止事项（非常重要）

* ❌ 页面直接调用 SDK
* ❌ Service 引用 UI
* ❌ Demo 写业务判断
* ❌ 一个文件超过 300 行